<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>初识 Redis | Knowledge</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.9.8">
    <link rel="icon" href="/mr-mugglefavicon.ico">
    <meta name="description" content="talk is cheap show me the code">
    <link rel="preload" href="/mr-muggle/assets/css/0.styles.a4a1d2b1.css" as="style"><link rel="preload" href="/mr-muggle/assets/js/app.03b0f33a.js" as="script"><link rel="preload" href="/mr-muggle/assets/js/2.c49e4524.js" as="script"><link rel="preload" href="/mr-muggle/assets/js/37.7974b0c2.js" as="script"><link rel="prefetch" href="/mr-muggle/assets/js/10.b769111d.js"><link rel="prefetch" href="/mr-muggle/assets/js/11.3b528e8b.js"><link rel="prefetch" href="/mr-muggle/assets/js/12.262bc424.js"><link rel="prefetch" href="/mr-muggle/assets/js/13.701f9444.js"><link rel="prefetch" href="/mr-muggle/assets/js/14.f5836d8f.js"><link rel="prefetch" href="/mr-muggle/assets/js/15.f6ae0270.js"><link rel="prefetch" href="/mr-muggle/assets/js/16.88f016bf.js"><link rel="prefetch" href="/mr-muggle/assets/js/17.2cb6dc15.js"><link rel="prefetch" href="/mr-muggle/assets/js/18.190ccd99.js"><link rel="prefetch" href="/mr-muggle/assets/js/19.5b842041.js"><link rel="prefetch" href="/mr-muggle/assets/js/20.23e5f14f.js"><link rel="prefetch" href="/mr-muggle/assets/js/21.76eb19cf.js"><link rel="prefetch" href="/mr-muggle/assets/js/22.9a998e87.js"><link rel="prefetch" href="/mr-muggle/assets/js/23.d79bc80a.js"><link rel="prefetch" href="/mr-muggle/assets/js/24.68b1ece9.js"><link rel="prefetch" href="/mr-muggle/assets/js/25.0536eb3c.js"><link rel="prefetch" href="/mr-muggle/assets/js/26.e1e22d1b.js"><link rel="prefetch" href="/mr-muggle/assets/js/27.10fbd948.js"><link rel="prefetch" href="/mr-muggle/assets/js/28.9d8bf67a.js"><link rel="prefetch" href="/mr-muggle/assets/js/29.959e32d1.js"><link rel="prefetch" href="/mr-muggle/assets/js/3.4c2c33d8.js"><link rel="prefetch" href="/mr-muggle/assets/js/30.98fcced0.js"><link rel="prefetch" href="/mr-muggle/assets/js/31.c3717be1.js"><link rel="prefetch" href="/mr-muggle/assets/js/32.04594faa.js"><link rel="prefetch" href="/mr-muggle/assets/js/33.cbdbae4d.js"><link rel="prefetch" href="/mr-muggle/assets/js/34.112b9f11.js"><link rel="prefetch" href="/mr-muggle/assets/js/35.b52ec603.js"><link rel="prefetch" href="/mr-muggle/assets/js/36.6a59af48.js"><link rel="prefetch" href="/mr-muggle/assets/js/38.f998387a.js"><link rel="prefetch" href="/mr-muggle/assets/js/39.89abf77c.js"><link rel="prefetch" href="/mr-muggle/assets/js/4.8c3e511b.js"><link rel="prefetch" href="/mr-muggle/assets/js/40.ec4c57c4.js"><link rel="prefetch" href="/mr-muggle/assets/js/41.ef41848b.js"><link rel="prefetch" href="/mr-muggle/assets/js/42.8538a508.js"><link rel="prefetch" href="/mr-muggle/assets/js/43.c712f5fa.js"><link rel="prefetch" href="/mr-muggle/assets/js/44.7e2435a1.js"><link rel="prefetch" href="/mr-muggle/assets/js/45.633f2d43.js"><link rel="prefetch" href="/mr-muggle/assets/js/46.1bd7c05d.js"><link rel="prefetch" href="/mr-muggle/assets/js/47.e5df90ad.js"><link rel="prefetch" href="/mr-muggle/assets/js/48.cd6c7156.js"><link rel="prefetch" href="/mr-muggle/assets/js/49.90631ebb.js"><link rel="prefetch" href="/mr-muggle/assets/js/5.6834c560.js"><link rel="prefetch" href="/mr-muggle/assets/js/50.9f214f89.js"><link rel="prefetch" href="/mr-muggle/assets/js/51.99a8dd78.js"><link rel="prefetch" href="/mr-muggle/assets/js/52.aec5051a.js"><link rel="prefetch" href="/mr-muggle/assets/js/53.7b621de8.js"><link rel="prefetch" href="/mr-muggle/assets/js/54.aa323f86.js"><link rel="prefetch" href="/mr-muggle/assets/js/55.63b233d9.js"><link rel="prefetch" href="/mr-muggle/assets/js/56.2cc8fe7b.js"><link rel="prefetch" href="/mr-muggle/assets/js/57.2a7a35c6.js"><link rel="prefetch" href="/mr-muggle/assets/js/58.3ef9ff2d.js"><link rel="prefetch" href="/mr-muggle/assets/js/59.4194402f.js"><link rel="prefetch" href="/mr-muggle/assets/js/6.ad05d8e5.js"><link rel="prefetch" href="/mr-muggle/assets/js/60.01275a59.js"><link rel="prefetch" href="/mr-muggle/assets/js/61.d314066d.js"><link rel="prefetch" href="/mr-muggle/assets/js/62.68ce6bc5.js"><link rel="prefetch" href="/mr-muggle/assets/js/63.34dea9e0.js"><link rel="prefetch" href="/mr-muggle/assets/js/64.9aaf5e00.js"><link rel="prefetch" href="/mr-muggle/assets/js/65.e4ce25ad.js"><link rel="prefetch" href="/mr-muggle/assets/js/66.5d9f1db5.js"><link rel="prefetch" href="/mr-muggle/assets/js/67.c914fc65.js"><link rel="prefetch" href="/mr-muggle/assets/js/68.5ee52c48.js"><link rel="prefetch" href="/mr-muggle/assets/js/69.680accb1.js"><link rel="prefetch" href="/mr-muggle/assets/js/7.0c092304.js"><link rel="prefetch" href="/mr-muggle/assets/js/70.cf4408b5.js"><link rel="prefetch" href="/mr-muggle/assets/js/71.33ad3ca9.js"><link rel="prefetch" href="/mr-muggle/assets/js/72.87880929.js"><link rel="prefetch" href="/mr-muggle/assets/js/73.11b998f6.js"><link rel="prefetch" href="/mr-muggle/assets/js/74.5a75b187.js"><link rel="prefetch" href="/mr-muggle/assets/js/75.5301781a.js"><link rel="prefetch" href="/mr-muggle/assets/js/76.c446bc20.js"><link rel="prefetch" href="/mr-muggle/assets/js/77.4eaa9052.js"><link rel="prefetch" href="/mr-muggle/assets/js/78.3b98b54f.js"><link rel="prefetch" href="/mr-muggle/assets/js/79.60b9a9ba.js"><link rel="prefetch" href="/mr-muggle/assets/js/8.471386f2.js"><link rel="prefetch" href="/mr-muggle/assets/js/80.7b067e03.js"><link rel="prefetch" href="/mr-muggle/assets/js/81.8274f49e.js"><link rel="prefetch" href="/mr-muggle/assets/js/82.b72070ad.js"><link rel="prefetch" href="/mr-muggle/assets/js/83.4651609d.js"><link rel="prefetch" href="/mr-muggle/assets/js/84.fffdd780.js"><link rel="prefetch" href="/mr-muggle/assets/js/85.10865df0.js"><link rel="prefetch" href="/mr-muggle/assets/js/86.5b4b0452.js"><link rel="prefetch" href="/mr-muggle/assets/js/87.a270ec2b.js"><link rel="prefetch" href="/mr-muggle/assets/js/88.8bb08b0f.js"><link rel="prefetch" href="/mr-muggle/assets/js/89.3826a944.js"><link rel="prefetch" href="/mr-muggle/assets/js/9.d8124a2e.js"><link rel="prefetch" href="/mr-muggle/assets/js/90.dbf7dede.js"><link rel="prefetch" href="/mr-muggle/assets/js/91.0823b62f.js"><link rel="prefetch" href="/mr-muggle/assets/js/92.8ec406ed.js">
    <link rel="stylesheet" href="/mr-muggle/assets/css/0.styles.a4a1d2b1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="ant-row"><div class="nav-button"><i aria-label="icon: bars" class="anticon anticon-bars"><svg viewBox="0 0 1024 1024" focusable="false" data-icon="bars" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0z"></path></svg></i> <span></span></div> <div class="ant-col ant-col-xs-24 ant-col-sm-24 ant-col-md-6 ant-col-lg-6 ant-col-xl-5 ant-col-xxl-4"><a href="/mr-muggle/" class="router-link-active no-logo home-link"><!----> <span class="site-name">Knowledge</span></a> <div class="search-box mobile-search"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div> <div class="nav-space-between ant-col ant-col-xs-0 ant-col-sm-0 ant-col-md-18 ant-col-lg-18 ant-col-xl-19 ant-col-xxl-20"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><ul role="menu" id="nav" class="ant-menu ant-menu-horizontal ant-menu-root ant-menu-light"><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/mr-muggle/" class="router-link-active">
          首页
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>
          后端开发必知必会
        </span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>
          前端开发必知必会
        </span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>
          数据库
        </span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>
          消息队列
        </span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>
          搜索引擎
        </span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>
          项目部署与运维
        </span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>
          办公软件
        </span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="visibility:hidden;position:absolute;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li></ul> <ul class="extra-group"><!----> <!----></ul></nav></div></div> <!----></header> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/mr-muggle/数据库/Redis/初识Redis.html" title="初识 Redis" class="active sidebar-link">初识 Redis</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mr-muggle/数据库/Redis/初识Redis.html#redis简介" title="Redis简介" class="sidebar-link">Redis简介</a></li><li class="sidebar-sub-header"><a href="/mr-muggle/数据库/Redis/初识Redis.html#适合使用redis的场景" title="适合使用Redis的场景" class="sidebar-link">适合使用Redis的场景</a></li><li class="sidebar-sub-header"><a href="/mr-muggle/数据库/Redis/初识Redis.html#在linux上安装redis数据库" title="在Linux上安装Redis数据库" class="sidebar-link">在Linux上安装Redis数据库</a></li><li class="sidebar-sub-header"><a href="/mr-muggle/数据库/Redis/初识Redis.html#在windows上安装redis" title="在Windows上安装Redis" class="sidebar-link">在Windows上安装Redis</a></li><li class="sidebar-sub-header"><a href="/mr-muggle/数据库/Redis/初识Redis.html#redis的配置、启动、操作、关闭" title="Redis的配置、启动、操作、关闭" class="sidebar-link">Redis的配置、启动、操作、关闭</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mr-muggle/数据库/Redis/初识Redis.html#启动redis的三种方式" title="启动Redis的三种方式" class="sidebar-link">启动Redis的三种方式</a></li><li class="sidebar-sub-header"><a href="/mr-muggle/数据库/Redis/初识Redis.html#redis命令行客户端" title="Redis命令行客户端" class="sidebar-link">Redis命令行客户端</a></li><li class="sidebar-sub-header"><a href="/mr-muggle/数据库/Redis/初识Redis.html#停止redis服务的两种方式" title="停止Redis服务的两种方式" class="sidebar-link">停止Redis服务的两种方式</a></li><li class="sidebar-sub-header"><a href="/mr-muggle/数据库/Redis/初识Redis.html#redis的版本规则" title="Redis的版本规则" class="sidebar-link">Redis的版本规则</a></li></ul></li></ul></li><li><a href="/mr-muggle/数据库/Redis/API的理解和使用.html" title="API的理解和使用" class="sidebar-link">API的理解和使用</a></li><li><a href="/mr-muggle/数据库/Redis/Redis的一些有用的小功能.html" title="Redis的一些有用的小功能" class="sidebar-link">Redis的一些有用的小功能</a></li><li><a href="/mr-muggle/数据库/Redis/Redis客户端.html" title="Redis客户端" class="sidebar-link">Redis客户端</a></li><li><a href="/mr-muggle/数据库/Redis/Redis的两种持久化机制.html" title="Redis的两种持久化机制" class="sidebar-link">Redis的两种持久化机制</a></li><li><a href="/mr-muggle/数据库/Redis/Redis复制配置与原理.html" title="Redis复制配置与原理" class="sidebar-link">Redis复制配置与原理</a></li><li><a href="/mr-muggle/数据库/Redis/Redis阻塞原因与处理.html" title="Redis阻塞原因与处理" class="sidebar-link">Redis阻塞原因与处理</a></li><li><a href="/mr-muggle/数据库/Redis/Redis内存管理与优化.html" title="Redis内存管理与优化" class="sidebar-link">Redis内存管理与优化</a></li></ul> </aside> <main class="page has-page-anchor"> <div class="theme-antdocs-content content__default"><h2 id="redis简介"><a href="#redis简介" class="header-anchor">#</a> Redis简介</h2> <p><strong>Redis</strong>全称为<strong>Remote Dictionary Server</strong>，即远程的字典服务，是一个使用ANSI C语言编写的一种基于键值对（key-value）的NoSQL数据库，与很多键值对数据库不同的是，Redis中的值可以由string（字符串）、hash（哈希）、list（列表）、set（集合）、zset（有序集合）、Bitmaps（位图）、HyperLogLog、GEO（地理信息定位）等多种数据结构和算法组成，因此，Redis可以满足很多的应用场景，而且因为Redis会将所有数据都存放在内存中，所以它的读写性能非常惊人。</p> <p>不仅如此，Redis还可以将内存的数据利用快照和日志的形式保存到硬盘上，这样在发生类似断电或者机器故障的时候，内存中的数据不会“丢失”。除了上述功能以外，Redis还提供了键过期、发布订阅、事务、流水线、Lua脚本等附加功能。</p> <h2 id="适合使用redis的场景"><a href="#适合使用redis的场景" class="header-anchor">#</a> 适合使用Redis的场景</h2> <p>对于Redis来说，Redis的应用场景广泛，总的来说，大致可以总结为下面5个场景。</p> <ul><li><strong>缓存</strong>：缓存机制几乎在所有的大型网站都有使用，合理地使用缓存不仅可以加快数据的访问速度，而且能够有效地降低后端数据源的压力。Redis提供了键值过期时间设置，并且也提供了灵活控制最大内存和内存溢出后的淘汰策略。</li> <li><strong>排行榜系统</strong>：排行榜系统几乎存在于所有的网站，例如按照热度排名的排行榜，按照发布时间的排行榜，按照各种复杂维度计算出的排行榜，Redis提供了列表和有序集合数据结构，合理地使用这些数据结构可以很方便地构建各种排行榜系统。</li> <li><strong>计数器应用</strong>：计数器在网站中的作用至关重要，例如视频网站有播放数、电商网站有浏览数，为了保证数据的实时性，每一次播放和浏览都要做加1的操作，如果并发量很大对于传统关系型数据的性能是一种挑战。Redis天然支持计数功能而且计数的性能也非常好，可以说是计数器系统的重要选择。</li> <li><strong>社交网络</strong>：社交网络赞/踩、粉丝、共同好友/喜好、推送、下拉刷新等是社交网站的必备功能，由于社交网站访问量通常比较大，而且传统的关系型数据不太适合保存这种类型的数据，Redis提供的数据结构可以相对比较容易地实现这些功能。</li> <li><strong>消息队列系统</strong>：消息队列系统可以说是一个大型网站的必备基础组件，因为其具有业务解耦、非实时业务削峰等特性。Redis提供了发布订阅功能和阻塞队列的功能，虽然和专业的消息队列比还不够足够强大，但是对于一般的消息队列功能基本可以满足。</li></ul> <h2 id="在linux上安装redis数据库"><a href="#在linux上安装redis数据库" class="header-anchor">#</a> 在Linux上安装Redis数据库</h2> <p>在使用Redis数据库之前，我们需要先安装Redis数据库，在这里，我们是在Centos 7.x环境下安装的。在Linux中，通常有两种安装软件的方式，第一种是通过Linux软件包管理系统来安装，另外一种是通过下载源码，编译安装。一般情况下，我们使用源码编译安装的方式。</p> <ol><li><p>首先，我们先从Redis官网下载Redis源码</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">wget</span> http://download.redis.io/releases/redis-5.0.5.tar.gz
</code></pre></div></li> <li><p>然后，我们解缩redis-5.0.5.tar.gz压缩包</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> redis-5.0.5.tar.gz
</code></pre></div></li> <li><p>接着，我们切换目录到已经解压的redis-5.0.5目录中。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> redis-5.0.5
</code></pre></div></li> <li><p>编译源代码，生成可执行程序</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">make</span>
</code></pre></div></li> <li><p>安装可执行程序</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">make</span> <span class="token function">install</span>
</code></pre></div></li></ol> <p>当上述步骤都执行完毕，我们就完成了Redis的安装。此时，我们可以使用以下命令在任何目录下查看Redis的版本。</p> <div class="language-shell extra-class"><pre class="language-shell"><code>redis-cli <span class="token parameter variable">-v</span>
</code></pre></div><p>若安装没有问题，输出redis的版本号<code>redis-cli 5.0.5</code>。当安装完Redis后，我们可以在目录/usr/local及其子目录中找到Redis的相关文件。</p> <p>最后，我们将源代码中的redis.conf配置文件复制到安装目录中。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cp</span> ./redis.conf /usr/local/bin
</code></pre></div><h2 id="在windows上安装redis"><a href="#在windows上安装redis" class="header-anchor">#</a> 在Windows上安装Redis</h2> <p>Redis的官方并不支持微软的Windows操作系统，但是Redis作为一款优秀的开源技术吸引到了微软公司的注意，微软公司的开源技术组在GitHub上维护一个Redis的分支：https://github.com/MSOpenTech/redis</p> <p>在Windows下安装Redis比较简单，直接下载Redis压缩包，并解压到自定义的目录下就可以使用了。</p> <h2 id="redis的配置、启动、操作、关闭"><a href="#redis的配置、启动、操作、关闭" class="header-anchor">#</a> Redis的配置、启动、操作、关闭</h2> <p>Redis安装之后，src和/usr/local/bin目录下多了几个以redis开头可执行文件，我们称之为Redis Shell，这些可执行文件可以做很多事情，例如可以启动和停止Redis、可以检测和修复Redis的持久化文件，还可以检测Redis的性
能。</p> <table><thead><tr><th style="text-align:center;">可执行文件</th> <th style="text-align:center;">作用</th></tr></thead> <tbody><tr><td style="text-align:center;">redis-server</td> <td style="text-align:center;">启动Redis</td></tr> <tr><td style="text-align:center;">redis-cli</td> <td style="text-align:center;">Redis命令行客户端</td></tr> <tr><td style="text-align:center;">redis-benchmark</td> <td style="text-align:center;">Redis基准测试工具</td></tr> <tr><td style="text-align:center;">redis-check-aof</td> <td style="text-align:center;">Redis AOF持久化文件检测和修复工具</td></tr> <tr><td style="text-align:center;">redis-check-dump</td> <td style="text-align:center;">Redis RDB持久化文件检测和修复工具</td></tr> <tr><td style="text-align:center;">redis-sentinel</td> <td style="text-align:center;">启动Redis-Sentinel</td></tr></tbody></table> <h3 id="启动redis的三种方式"><a href="#启动redis的三种方式" class="header-anchor">#</a> 启动Redis的三种方式</h3> <p>对于Redis来说，有三种方法可以启动Redis，分别是默认配置、运行配置、配置文件启动。我们切换到</p> <ol><li><p>默认配置方式启动</p> <p>这种方式会使用Redis的默认配置启动Redis</p> <div class="language-shell extra-class"><pre class="language-shell"><code>./redis-server
</code></pre></div><p>下面就是redis-server执行后输出的相关日志</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token number">8339</span>:C 08 Aug <span class="token number">2019</span> <span class="token number">17</span>:04:23.972 <span class="token comment"># oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo</span>
<span class="token number">8339</span>:C 08 Aug <span class="token number">2019</span> <span class="token number">17</span>:04:23.972 <span class="token comment"># Redis version=5.0.5, bits=64, commit=00000000, modified=0, pid=8339, just started</span>
<span class="token number">8339</span>:C 08 Aug <span class="token number">2019</span> <span class="token number">17</span>:04:23.972 <span class="token comment"># Warning: no config file specified, using the default config. In order to specify a config file use ./redis-server /path/to/redis.conf</span>
<span class="token number">8339</span>:M 08 Aug <span class="token number">2019</span> <span class="token number">17</span>:04:23.976 * Increased maximum number of <span class="token function">open</span> files to <span class="token number">10032</span> <span class="token punctuation">(</span>it was originally <span class="token builtin class-name">set</span> to <span class="token number">1024</span><span class="token punctuation">)</span>.
                _._
           _.-`<span class="token variable"><span class="token variable">`</span>__ <span class="token string">''</span>-._
      _.-<span class="token variable">`</span></span><span class="token variable"><span class="token variable">`</span>    <span class="token variable">`</span></span><span class="token builtin class-name">.</span>  <span class="token variable"><span class="token variable">`</span>_.  <span class="token string">''</span>-._           Redis <span class="token number">5.0</span>.5 <span class="token punctuation">(</span>00000000/0<span class="token punctuation">)</span> <span class="token number">64</span> bit
  .-<span class="token variable">`</span></span><span class="token variable"><span class="token variable">`</span> .-<span class="token variable">`</span></span>`<span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">.</span>  <span class="token variable">`</span></span>`<span class="token variable"><span class="token variable">`</span><span class="token punctuation">\</span>/    _.,_ <span class="token string">''</span>-._
 <span class="token punctuation">(</span>    '      ,       .-<span class="token variable">`</span></span>  <span class="token operator">|</span> <span class="token variable"><span class="token variable">`</span>,    <span class="token punctuation">)</span>     Running <span class="token keyword">in</span> standalone mode
 <span class="token operator">|</span><span class="token variable">`</span></span>-._<span class="token variable"><span class="token variable">`</span>-<span class="token punctuation">..</span>.-<span class="token variable">`</span></span> __<span class="token punctuation">..</span>.-.`<span class="token variable"><span class="token variable">`</span>-._<span class="token operator">|</span>'<span class="token variable">`</span></span> _.-<span class="token string">'|     Port: 6379
 |    `-._   `._    /     _.-'</span>    <span class="token operator">|</span>     PID: <span class="token number">8339</span>
  <span class="token variable"><span class="token variable">`</span>-._    <span class="token variable">`</span></span>-._  <span class="token variable"><span class="token variable">`</span>-./  _.-<span class="token string">'    _.-'</span>
 <span class="token operator">|</span><span class="token variable">`</span></span>-._<span class="token variable"><span class="token variable">`</span>-._    <span class="token variable">`</span></span>-.__.-<span class="token string">'    _.-'</span>_.-<span class="token string">'|
 |    `-._`-._        _.-'</span>_.-<span class="token string">'    |           http://redis.io
  `-._    `-._`-.__.-'</span>_.-<span class="token string">'    _.-'</span>
 <span class="token operator">|</span><span class="token variable"><span class="token variable">`</span>-._<span class="token variable">`</span></span>-._    <span class="token variable"><span class="token variable">`</span>-.__.-<span class="token string">'    _.-'</span>_.-'<span class="token operator">|</span>
 <span class="token operator">|</span>    <span class="token variable">`</span></span>-._<span class="token variable"><span class="token variable">`</span>-._        _.-<span class="token string">'_.-'</span>    <span class="token operator">|</span>
  <span class="token variable">`</span></span>-._    <span class="token variable"><span class="token variable">`</span>-._<span class="token variable">`</span></span>-.__.-<span class="token string">'_.-'</span>    _.-<span class="token string">'
      `-._    `-.__.-'</span>    _.-<span class="token string">'
          `-._        _.-'</span>
              `-.__.-<span class="token string">'

8339:M 08 Aug 2019 17:04:23.989 # WARNING: The TCP backlog setting of 511 cannot be enforced because /proc/sys/net/core/somaxconn is set to the lower value of 128.
8339:M 08 Aug 2019 17:04:23.990 # Server initialized
8339:M 08 Aug 2019 17:04:23.991 # WARNING overcommit_memory is set to 0! Background save may fail under low memory condition. To fix this issue add '</span>vm.overcommit_memory <span class="token operator">=</span> <span class="token number">1</span><span class="token string">' to /etc/sysctl.conf and then reboot or run the command '</span><span class="token function">sysctl</span> <span class="token assign-left variable">vm.overcommit_memory</span><span class="token operator">=</span><span class="token number">1</span>' <span class="token keyword">for</span> this to take effect.
<span class="token number">8339</span>:M 08 Aug <span class="token number">2019</span> <span class="token number">17</span>:04:23.993 * Ready to accept connection
</code></pre></div><p>可以看到直接使用redis-server启动Redis后，会打印出一些日志，通过日志我们可以看到一些信息。</p> <ul><li>当前Redis的版本是5.0.5</li> <li>Redis的默认端口是6379</li></ul> <p><strong>Redis建议要使用配置文件来启动。因为直接启动无法自定义配置，所以这种方式是不会在生产环境中使用
的。</strong></p></li> <li><p>运行启动</p> <p>redis-server加上要修改配置名和值（可以是多对），没有设置的配置将使用默认配置。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># redis-server --configKey1 configValue1 --configKey2 configValue2</span>
</code></pre></div><p>例如，如果要用6380作为端口启动Redis，那么可以执行</p> <div class="language-shell extra-class"><pre class="language-shell"><code>redis-server <span class="token parameter variable">--port</span> <span class="token number">6380</span>
</code></pre></div><p><strong>虽然运行配置可以自定义配置，但是如果需要修改的配置较多或者希望将配置保存到文件中，不建议使用这种方式。</strong></p></li> <li><p>配置文件启动</p> <p>将配置写到指定文件里，例如我们将配置写到了/opt/redis/redis.conf中，那么只需要执行如下命令即可启动Redis</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># redis-server /opt/redis/redis.conf</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Redis目录下都会有一个redis.conf配置文件，里面就是Redis的默认配置，通常来讲我们会在一台机器上启动多个Redis，并且将配置集中管理在指定目录下，而且配置不是完全手写的，而是将redis.conf作为模板进行修
改。</p></div></li></ol> <p><strong>总而言之，通过配置文件启动的方式提供了更大的灵活性，所以大部分生产环境会使用这种方式启动Redis。</strong></p> <h3 id="redis命令行客户端"><a href="#redis命令行客户端" class="header-anchor">#</a> Redis命令行客户端</h3> <p>现在我们已经启动了Redis服务，下面将介绍如何使用redis-cli连接、操作Redis服务。redis-cli可以使用两种方式连接Redis服务器。</p> <ul><li><p><strong>交互式方式连接服务器</strong>：通过<code>redis-cli -h {host} -p {port}</code>的方式连接到Redis服务，之后所有的操作都是通过交互的方式实现。不再需要redis-cli前缀了</p> <div class="language-shell extra-class"><pre class="language-shell"><code>redis-cli <span class="token parameter variable">-h</span> <span class="token number">127.0</span>.0.1 <span class="token parameter variable">-p</span> <span class="token number">6379</span>
</code></pre></div></li> <li><p><strong>命令式方式连接服务器</strong>：用<code>redis-cli-h ip {host} -p {port} {command}</code>就可以直接得到命令的返回结果。</p> <div class="language-shell extra-class"><pre class="language-shell"><code>redis-cli <span class="token parameter variable">-h</span> <span class="token number">127.0</span>.0.1 <span class="token parameter variable">-p</span> <span class="token number">6379</span> get xxx
</code></pre></div></li></ul> <p>需要注意的是，若没有<code>-h</code>参数，则默认是127.0.0.1,若没有<code>-p</code>参数，则默认是6379端口。</p> <h3 id="停止redis服务的两种方式"><a href="#停止redis服务的两种方式" class="header-anchor">#</a> 停止Redis服务的两种方式</h3> <p>Redis提供了shutdown命令来停止Redis服务，例如要停掉127.0.0.1上6379端口上的Redis服务，可以执行如下操作。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">shutdown</span>
</code></pre></div><p>可以看到，但我们执行完这个命令，服务端将输出以下日志</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token number">8343</span>:M 08 Aug <span class="token number">2019</span> <span class="token number">17</span>:38:14.716 <span class="token comment"># User requested shutdown...</span>
<span class="token number">8343</span>:M 08 Aug <span class="token number">2019</span> <span class="token number">17</span>:38:14.716 * Saving the final RDB snapshot before exiting.
<span class="token number">8343</span>:M 08 Aug <span class="token number">2019</span> <span class="token number">17</span>:38:14.731 * DB saved on disk
<span class="token number">8343</span>:M 08 Aug <span class="token number">2019</span> <span class="token number">17</span>:38:14.732 <span class="token comment"># Redis is now ready to exit, bye bye...</span>
</code></pre></div><p>需要注意的是，</p> <ul><li><p>Redis关闭的过程：断开与客户端的连接、生成持久化文件，是一种相对优雅的关闭方式。</p></li> <li><p>除了可以通过shutdown命令关闭Redis服务以外，还可以通过kill进程号的方式关闭掉Redis，但是不要<strong>粗暴地使用<code>kill -9</code>强制杀死Redis服务，不但不会做持久化操作，还会造成缓冲区等资源不能被优雅关闭，极端情况会造成AOF和复制丢失数据的情况。</strong></p></li> <li><p>shutdown还有一个参数，代表是否在关闭Redis前，生成持久化文件。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">shutdown</span> nosave <span class="token operator">|</span> save
</code></pre></div></li></ul> <h3 id="redis的版本规则"><a href="#redis的版本规则" class="header-anchor">#</a> Redis的版本规则</h3> <p>Redis借鉴了Linux操作系统对于版本号的命名规则：<strong>版本号第二位如果是奇数，则为非稳定版本（例如2.7、2.9、3.1），如果是偶数，则为稳定版本（例如2.6、2.8、3.0、3.2）。</strong></p> <p>当前奇数版本就是下一个稳定版本的开发版本，例如2.9版本是3.0版本的开发版本。所以我们在生产环境通常选取偶数版本的Redis，如果对于某些新的特性想提前了解和使用，可以选择最新的奇数版本。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">LastUpdated:</span> <span class="time">1/9/2020, 9:38:02 AM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/mr-muggle/数据库/Redis/API的理解和使用.html">
        API的理解和使用
        <i aria-label="icon: right" class="anticon anticon-right"><svg viewBox="64 64 896 896" focusable="false" data-icon="right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></i></a></span></p></div> <div class="page-anchor"><div class="ant-space ant-space-vertical" style="width:100%;"><div class="ant-space-item"><div class="page-anchor-offset"><div><div class="ant-anchor-wrapper" style="max-height:100vh;"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a href="#redis简介" title="Redis简介" class="ant-anchor-link-title">Redis简介</a></div><div class="ant-anchor-link"><a href="#适合使用redis的场景" title="适合使用Redis的场景" class="ant-anchor-link-title">适合使用Redis的场景</a></div><div class="ant-anchor-link"><a href="#在linux上安装redis数据库" title="在Linux上安装Redis数据库" class="ant-anchor-link-title">在Linux上安装Redis数据库</a></div><div class="ant-anchor-link"><a href="#在windows上安装redis" title="在Windows上安装Redis" class="ant-anchor-link-title">在Windows上安装Redis</a></div><div class="ant-anchor-link"><a href="#redis的配置、启动、操作、关闭" title="Redis的配置、启动、操作、关闭" class="ant-anchor-link-title">Redis的配置、启动、操作、关闭</a><div class="ant-anchor-link"><a href="#启动redis的三种方式" title="启动Redis的三种方式" class="ant-anchor-link-title">启动Redis的三种方式</a></div><div class="ant-anchor-link"><a href="#redis命令行客户端" title="Redis命令行客户端" class="ant-anchor-link-title">Redis命令行客户端</a></div><div class="ant-anchor-link"><a href="#停止redis服务的两种方式" title="停止Redis服务的两种方式" class="ant-anchor-link-title">停止Redis服务的两种方式</a></div><div class="ant-anchor-link"><a href="#redis的版本规则" title="Redis的版本规则" class="ant-anchor-link-title">Redis的版本规则</a></div></div></div></div></div></div></div></div></div> </main> <!----></div><div class="global-ui"></div></div>
    <script src="/mr-muggle/assets/js/app.03b0f33a.js" defer></script><script src="/mr-muggle/assets/js/2.c49e4524.js" defer></script><script src="/mr-muggle/assets/js/37.7974b0c2.js" defer></script>
  </body>
</html>