(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{696:function(v,_,l){"use strict";l.r(_);var t=l(74),i=Object(t.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h2",{attrs:{id:"索引概念"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#索引概念"}},[v._v("#")]),v._v(" 索引概念")]),v._v(" "),_("p",[v._v("索引(Index)是帮助MySQL高效获取数据的数据结构。")]),v._v(" "),_("h3",{attrs:{id:"索引的优劣势"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#索引的优劣势"}},[v._v("#")]),v._v(" 索引的优劣势")]),v._v(" "),_("p",[v._v("其主要优势有：")]),v._v(" "),_("ul",[_("li",[v._v("提高数据检索效率，降低数据库IO成本")]),v._v(" "),_("li",[v._v("通过索引列对数据进行排序，降低数据排序成本，降低了CPU消耗")])]),v._v(" "),_("p",[v._v("其主要劣势有：")]),v._v(" "),_("ul",[_("li",[_("p",[v._v("一个索引都为对应一棵B+树，树中每一个节点都是一个数据页，一个页默认会占用16KB的存储空间，所以一个索引也是会占用磁盘空间的。(空间的代价)")])]),v._v(" "),_("li",[_("p",[v._v("索引是对数据的排序，当对表中的数据进行增、删、改操作时，都要维护修改内容涉及到的B+树索引。所以在进行这些操作时需要额外的时间进行一些记录移动，页面分裂、页面回收等操作来维护索引(时间上的代价)")])])]),v._v(" "),_("h3",{attrs:{id:"不适合索引的场景"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#不适合索引的场景"}},[v._v("#")]),v._v(" 不适合索引的场景")]),v._v(" "),_("ul",[_("li",[v._v("数据量少的不适合加索引")]),v._v(" "),_("li",[v._v("更新比较频繁的也不适合加索引")]),v._v(" "),_("li",[v._v("区分度低的字段不适合加索引（如性别）")])]),v._v(" "),_("h3",{attrs:{id:"索引哪些情况会失效"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#索引哪些情况会失效"}},[v._v("#")]),v._v(" 索引哪些情况会失效")]),v._v(" "),_("ul",[_("li",[v._v("查询条件包含or，可能导致索引失效")]),v._v(" "),_("li",[v._v("如何字段类型是字符串，where时一定用引号括起来，否则索引失效")]),v._v(" "),_("li",[v._v("like通配符可能导致索引失效。")]),v._v(" "),_("li",[v._v("联合索引，查询时的条件列不是联合索引中的第一个列，索引失效。")]),v._v(" "),_("li",[v._v("在索引列上使用mysql的内置函数，索引失效。")]),v._v(" "),_("li",[v._v("对索引列运算（如，+、-、*、/），索引失效。")]),v._v(" "),_("li",[v._v("索引字段上使用（！= 或者 < >，not in）时，可能会导致索引失效。")]),v._v(" "),_("li",[v._v("索引字段上使用is null， is not null，可能导致索引失效。")]),v._v(" "),_("li",[v._v("左连接查询或者右连接查询查询关联的字段编码格式不一样，可能导致索引失效。")]),v._v(" "),_("li",[v._v("mysql估计使用全表扫描要比使用索引快,则不使用索引。")])]),v._v(" "),_("h2",{attrs:{id:"日常工作中你是怎么优化sql的"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#日常工作中你是怎么优化sql的"}},[v._v("#")]),v._v(" 日常工作中你是怎么优化SQL的")]),v._v(" "),_("p",[v._v("可以从这几个维度回答这个问题：")]),v._v(" "),_("ul",[_("li",[v._v("加索引")]),v._v(" "),_("li",[v._v("避免返回不必要的数据")]),v._v(" "),_("li",[v._v("适当分批量进行")]),v._v(" "),_("li",[v._v("优化sql结构")]),v._v(" "),_("li",[v._v("分库分表")]),v._v(" "),_("li",[v._v("读写分离")])])])}),[],!1,null,null,null);_.default=i.exports}}]);